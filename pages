
import streamlit as st

# è®¾ç½®é¡µé¢é…ç½®ï¼šæ ‡é¢˜ã€å¸ƒå±€å’Œå›¾æ ‡
st.set_page_config(page_title="ä¸ªäººç®€å†ç”Ÿæˆå™¨", layout="wide", page_icon='ğŸ‘¨â€ğŸ“')

# åˆ›å»ºä¸¤åˆ—å¸ƒå±€ï¼Œæ¯”ä¾‹ä¸º1:2
c1, c2 = st.columns([1, 2])

# å·¦ä¾§åˆ—ï¼šç”¨æˆ·ä¿¡æ¯è¾“å…¥åŒºåŸŸ
with c1:
    # å§“åè¾“å…¥æ¡†
    user_name = st.text_input("å§“å")
    
    # èŒä½è¾“å…¥æ¡†
    user_work = st.text_input("èŒä½")
    
    # æ‰‹æœºå·è¾“å…¥æ¡†
    user_phone = st.text_input("æ‰‹æœºå·")
    
    # é‚®ç®±è¾“å…¥æ¡†
    user_email = st.text_input("é‚®ç®±")
    
    # å‡ºç”Ÿæ—¥æœŸé€‰æ‹©å™¨
    user_date = st.date_input("å‡ºç”Ÿæ—¥æœŸ")
    
    # æ€§åˆ«å•é€‰æŒ‰é’®ï¼Œæ°´å¹³æ’åˆ—ï¼Œé»˜è®¤é€‰æ‹©"ç”·"
    user_sex = st.radio('æ€§åˆ«', ['ç”·', 'å¥³', 'å…¶ä»–'], horizontal=True, index=0)
    
    # å­¦å†ä¸‹æ‹‰é€‰æ‹©æ¡†
    use_xl = st.selectbox(
        'å­¦å†',
        ['åˆä¸­', 'ä¸­ä¸“', 'é«˜ä¸­', 'å¤§ä¸“', 'æœ¬ç§‘', 'ç ”ç©¶ç”Ÿ', 'åšå£«']
    )
    
    # è¯­è¨€èƒ½åŠ›å¤šé€‰æ¡†
    user_language = st.multiselect(
        'è¯­è¨€èƒ½åŠ›',
        ['ä¸­æ–‡', 'è‹±è¯­', 'æ³•è¯­', 'æ—¥è¯­', 'ä¿„è¯­', 'è¥¿ç­ç‰™è¯­']
    )
    
    # æŠ€èƒ½èƒ½åŠ›å¤šé€‰æ¡†
    user_jineng = st.multiselect(
        'æŠ€èƒ½èƒ½åŠ›',
        ['Java', 'Python', 'HTML', 'Js', 'Type/Scripts', 'C++']
    )
    
    # å·¥ä½œç»éªŒæ»‘å—ï¼ŒèŒƒå›´0-30å¹´
    use_age = st.slider('å·¥ä½œç»éªŒ', 0, 30)
    
    # æœŸæœ›è–ªèµ„èŒƒå›´æ»‘å—ï¼ŒèŒƒå›´5000-12000ï¼Œé»˜è®¤å€¼(6000, 8000)
    salary_range = st.slider('æœŸæœ›è–ªèµ„èŒƒå›´', 5000, 12000, (6000, 8000))
    
    # ä¸ªäººç®€ä»‹æ–‡æœ¬åŒºåŸŸ
    user_grjj = st.text_area(label='ä¸ªäººç®€ä»‹ï¼š', placeholder='è¯·è¾“å…¥æ‚¨çš„ä¸ªäººç®€ä»‹')
    
    # æ¯æ—¥æœ€ä½³è”ç³»æ—¶é—´é€‰æ‹©å™¨
    user_time = st.time_input("æ¯æ—¥æœ€ä½³è”ç³»æ—¶é—´:")
    
    # å¤´åƒä¸Šä¼ å™¨ï¼Œæ”¯æŒjpgã€jpegã€pngã€webpæ ¼å¼
    user_avatar = st.file_uploader(
        "ä¸Šä¼ å¤´åƒ",
        type=['jpg', 'jpeg', 'png', 'webp'],
        help="æ”¯æŒ jpg, png, webp æ ¼å¼"
    )

# å³ä¾§åˆ—ï¼šç®€å†é¢„è§ˆåŒºåŸŸ
with c2:
    # æ ‡é¢˜
    st.header("ç®€å†é¢„è§ˆ")
    
    # å¦‚æœæ²¡æœ‰è¾“å…¥å§“åï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯
    if not user_name:
        st.info("è¯·åœ¨å·¦ä¾§è¾“å…¥ä¿¡æ¯ä»¥ç”Ÿæˆç®€å†ã€‚")
    else:
        # åˆ›å»ºå¤´éƒ¨åŒºåŸŸï¼šå¤´åƒ + å§“åï¼ˆåˆ†ä¸ºä¸¤åˆ—ï¼‰
        col_avatar, col_title = c2.columns([1, 3])
        
        with col_avatar:
            # æ˜¾ç¤ºä¸Šä¼ çš„å¤´åƒï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¼ åˆ™æ˜¾ç¤ºé»˜è®¤å¤´åƒå›¾æ ‡
            if user_avatar is not None:
                st.image(user_avatar, width=150, use_container_width=False)
            else:
                st.markdown("### ğŸ‘¤")
        
        with col_title:
            # æ˜¾ç¤ºå§“å
            st.title(user_name)
            # æ˜¾ç¤ºèŒä½
            st.write(f"*{user_work}*")
        
        # åˆ†å‰²çº¿
        st.divider()
        
        # åˆ›å»ºä¸¤åˆ—å¸ƒå±€æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯
        col_a, col_b = c2.columns(2)
        
        with col_a:
            # æ˜¾ç¤ºæ‰‹æœºå·ç 
            st.write(f"**æ‰‹æœºå·ç ï¼š** {user_phone}")
            # æ˜¾ç¤ºç”µå­é‚®ç®±
            st.write(f"**ç”µå­é‚®ç®±ï¼š** {user_email}")
        
        with col_b:
            # æ˜¾ç¤ºæ€§åˆ«
            st.write(f"**æ€§åˆ«ï¼š** {user_sex}")
            # æ˜¾ç¤ºå‡ºç”Ÿæ—¥æœŸ
            st.write(f"**å‡ºç”Ÿæ—¥æœŸï¼š** {user_date}")
            # æ˜¾ç¤ºæœ€é«˜å­¦å†
            st.write(f"**æœ€é«˜å­¦å†ï¼š** {use_xl}")
        
        # åˆ†å‰²çº¿
        st.divider()
        
        # ä¸ªäººç®€ä»‹éƒ¨åˆ†
        st.subheader("ä¸ªäººç®€ä»‹")
        st.write(user_grjj)
        
        # æŠ€èƒ½ä¸èƒ½åŠ›éƒ¨åˆ†
        st.subheader("æŠ€èƒ½ä¸èƒ½åŠ›")
        # æ˜¾ç¤ºå·¥ä½œç»éªŒ
        st.write(f"**å·¥ä½œç»éªŒï¼š** {use_age} å¹´")
        # æ˜¾ç¤ºæœŸæœ›è–ªèµ„èŒƒå›´
        st.write(f"**æœŸæœ›è–ªèµ„ï¼š** {salary_range[0]} - {salary_range[1]} å…ƒ")
        # æ˜¾ç¤ºæŒæ¡æŠ€èƒ½
        st.write(f"**æŒæ¡æŠ€èƒ½ï¼š** {', '.join(user_jineng) if user_jineng else 'æš‚æ— '}")
        # æ˜¾ç¤ºè¯­è¨€èƒ½åŠ›
        st.write(f"**è¯­è¨€èƒ½åŠ›ï¼š** {', '.join(user_language) if user_language else 'æš‚æ— '}")
        
        # æ˜¾ç¤ºæœ€ä½³è”ç³»æ—¶é—´
        st.write(f"**æœ€ä½³è”ç³»æ—¶é—´ï¼š** {user_time}")

# å¯¼å…¥ Streamlit åº“ï¼Œå¹¶ä½¿ç”¨åˆ«å st
import streamlit as st

# è®¾ç½®ç½‘é¡µçš„åŸºæœ¬é…ç½®ï¼ŒåŒ…æ‹¬æ ‡é¢˜å’Œæµè§ˆå™¨æ ‡ç­¾é¡µçš„å›¾æ ‡
st.set_page_config(page_title='éŸ³ä¹ç½‘ç«™', page_icon='ğŸ¹')

# å®šä¹‰å›¾ç‰‡æ•°æ®åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«å›¾ç‰‡çš„URLå’Œæ ‡é¢˜
music_data = [
    {
        'url': 'https://music.163.com/song/media/outer/url?id=1465082816.mp3',
        'img': 'http://p1.music.126.net/HqEkuaWZfqnpci4EtxF41w==/109951165163056041.jpg?param=130y130',
        'text':'ä¸“è¾‘å°é¢',
        'title': 'è‹¦æµ·æ— æ¶¯',
        'artist':'æ³•è€ / Yoken_Official',
        'time':'3:38'
        
        
    },
    {
        'url': 'https://music.163.com/song/media/outer/url?id=3329668871.mp3',
        'img': 'http://p1.music.126.net/qDDB6HshQrqwyKzE9778QA==/109951172450091661.jpg?param=130y130',
        'text':'ä¸“è¾‘å°é¢',
        'title': 'æ­å–œå‘è´¢ï¼ˆR&Bç‰ˆï¼‰',
        'artist':'mchaCheers',
         'time':'3:55'
    },
    {
        'url': 'https://music.163.com/song/media/outer/url?id=3329668871.mp3',
        'img': 'http://p1.music.126.net/WphIFnDUpf4JhxKTZbRo0A==/109951172454584686.jpg?param=130y130',
        'text':'ä¸“è¾‘å°é¢',
        'title': 'å‹æƒ…æç¤º (Live)',
        'artist':'è–›ä¹‹è°¦',
         'time':'3:55'
    },
]

# åˆå§‹åŒ–ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰ï¼Œç”¨äºè®°å½•å½“å‰æ˜¾ç¤ºçš„å›¾ç‰‡ç´¢å¼•
# 'ind' ä¸åœ¨ st.session_state ä¸­æ—¶ï¼Œè¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œå°†å…¶åˆå§‹åŒ–ä¸º 0
if 'ind' not in st.session_state:
    st.session_state['ind'] = 0

# è·å–å½“å‰æ’­æ”¾çš„æ­Œæ›²
current_song = music_data[st.session_state['ind']]

# æ ‡é¢˜å’Œæè¿°
st.title('ğŸµ ç®€æ˜“éŸ³ä¹æ’­æ”¾å™¨')


# åˆ›å»ºä¸€ä¸ªä¸¤åˆ—çš„å¸ƒå±€ï¼Œç”¨äºå¹¶æ’æ”¾ç½®æŒ‰é’®
c1, c2 = st.columns([1,2])

# å®šä¹‰â€œä¸‹ä¸€å¼ â€æŒ‰é’®çš„å›è°ƒå‡½æ•°
def nextImg():
    # å°†ç´¢å¼•åŠ 1ï¼Œå¹¶ä½¿ç”¨å–æ¨¡è¿ç®— (%) å®ç°å¾ªç¯
    # å½“ç´¢å¼•ç­‰äºåˆ—è¡¨é•¿åº¦æ—¶ï¼Œä¼šå›åˆ° 0ï¼Œå®ç°â€œæœ€åä¸€å¼ çš„ä¸‹ä¸€å¼ æ˜¯ç¬¬ä¸€å¼ â€
    st.session_state['ind'] = (st.session_state['ind'] + 1) % len(music_data)
def prevImg():
    # ç¡®ä¿ç´¢å¼•åœ¨åˆ—è¡¨èŒƒå›´å†…ï¼Œå¤„ç†è´Ÿæ•°ç´¢å¼•
    st.session_state['ind'] = (st.session_state['ind'] - 1 + len(music_data)) % len(music_data)

# åœ¨ç¬¬ä¸€åˆ—ä¸­æ”¾ç½®â€œä¸Šä¸€å¼ â€æŒ‰é’®ï¼Œç‚¹å‡»æ—¶è°ƒç”¨ prevImg å‡½æ•°
with c1:
     st.image(current_song['img'], width=200)  # æ˜¾ç¤ºä¸“è¾‘å°é¢
     st.text(current_song['text'])
# åœ¨ç¬¬äºŒåˆ—ä¸­æ”¾ç½®â€œä¸‹ä¸€å¼ â€æŒ‰é’®ï¼Œç‚¹å‡»æ—¶è°ƒç”¨ nextImg å‡½æ•°
with c2:
    st.subheader(f"{current_song['title']}")  # æ­Œæ›²æ ‡é¢˜ï¼ˆåŠ ç²—ï¼‰
    st.text(f"æ­Œæ‰‹: {current_song['artist']}")  # æ­Œæ‰‹ä¿¡æ¯
    st.text(f"æ—¶é•¿: {current_song['time']}")  # æ­Œæ›²æ—¶é•¿
        # åœ¨å³åˆ—ä¸­å†åˆ›å»ºä¸¤åˆ—ï¼Œç”¨äºæ”¾ç½®â€œä¸Šä¸€é¦–â€å’Œâ€œä¸‹ä¸€é¦–â€æŒ‰é’®
    button_col1, button_col2 = st.columns(2)
    
    # â€œä¸Šä¸€é¦–â€æŒ‰é’®ï¼ˆå·¦åˆ—ï¼‰
    with button_col1:
        st.button('â® ä¸Šä¸€é¦–', use_container_width=True,on_click=prevImg)  # ç»‘å®š prevImg å›è°ƒå‡½æ•°
    
    # â€œä¸‹ä¸€é¦–â€æŒ‰é’®ï¼ˆå³åˆ—ï¼‰
    with button_col2:
        st.button('â­ ä¸‹ä¸€é¦–', use_container_width=True,on_click=nextImg)  # ç»‘å®š nextImg å›è°ƒå‡½æ•°

 # 1. åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ˆæˆ–åˆ—ï¼‰æ¥åŒ…è£¹éŸ³é¢‘æ’­æ”¾å™¨
with st.container():
    st.audio(current_song['url'])  # éŸ³é¢‘æ’­æ”¾å™¨ä¼šè‡ªåŠ¨é€‚åº”å®¹å™¨å®½åº¦
       
    


import streamlit as st
import pandas as pd
import numpy as np
import random

# è®¾ç½®é¡µé¢é…ç½®
st.set_page_config(
    page_title="å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜",
    page_icon="ğŸœ",
    layout="wide"
)

# ç®€åŒ–çš„CSSæ ·å¼
st.markdown("""
<style>
    .main-header {
        text-align: center;
        color: #FF6B35;
        margin-bottom: 2rem;
    }
    .metric-card {
        background: #f0f2f6;
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 1rem;
    }
</style>
""", unsafe_allow_html=True)

# æ ‡é¢˜
st.markdown('<h1 class="main-header">ğŸœ å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜</h1>', unsafe_allow_html=True)

# é¤å…æ•°æ®
restaurants_data = {
    "é¤å…": ["ç”˜å®¶ç•Œç‰ŒæŸ æª¬é¸­", "ä¸­å±±è·¯ç¾é£Ÿè¡—", "ä¸‡å›½é…’å®¶", "å¤è®°è€å‹ç²‰", "é˜¿å…‰çƒ§çƒ¤", 
             "èˆ’è®°è€å‹", "è€å‹è®°", "ä¸‰å“ç‹", "æ¢è®°å·ç­’ç²‰", "å»ºæ”¿è·¯å¤œå¸‚"],
    "ç±»å‹": ["æ¡‚èœ", "å°åƒè¡—", "ç²¤èœ", "è€å‹ç²‰", "çƒ§çƒ¤", "è€å‹ç²‰", "è€å‹ç²‰", "å¿«é¤", "å°åƒ", "å¤œå¸‚"],
    "è¯„åˆ†": [4.6, 4.4, 4.5, 4.3, 4.2, 4.4, 4.1, 4.0, 4.3, 4.5],
    "äººå‡æ¶ˆè´¹(å…ƒ)": [68, 35, 88, 18, 45, 20, 16, 25, 12, 30],
    "latitude": [22.8170, 22.8220, 22.8190, 22.8122, 22.7950, 22.8350, 22.8250, 22.8420, 22.8280, 22.8180],
    "longitude": [108.3665, 108.3565, 108.3685, 108.2666, 108.3465, 108.3185, 108.3765, 108.3250, 108.3850, 108.3450]
}

# åˆ›å»ºDataFrame
df = pd.DataFrame(restaurants_data)

# ç”Ÿæˆ12ä¸ªæœˆçš„ä»·æ ¼èµ°åŠ¿æ•°æ®
@st.cache_data
def generate_price_trends():
    months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', 
              '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ']
    
    price_trends = []
    for _, restaurant in df.iterrows():
        base_price = restaurant['äººå‡æ¶ˆè´¹(å…ƒ)']
        for i, month in enumerate(months):
            # æ¨¡æ‹Ÿå­£èŠ‚æ€§ä»·æ ¼æ³¢åŠ¨
            seasonal_factor = 1 + 0.1 * np.sin(2 * np.pi * i / 12)
            random_factor = 1 + np.random.normal(0, 0.03)
            price = base_price * seasonal_factor * random_factor
            
            price_trends.append({
                'é¤å…': restaurant['é¤å…'],
                'æœˆä»½': month,
                'ä»·æ ¼': round(price, 2)
            })
    
    return pd.DataFrame(price_trends)

# ç”Ÿæˆæœˆåº¦é”€å”®æ•°æ®
@st.cache_data
def generate_monthly_sales():
    months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', 
              '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ']
    
    sales_data = []
    for _, restaurant in df.iterrows():
        base_sales = random.randint(1200, 3500)
        for i, month in enumerate(months):
            # æ¨¡æ‹Ÿé”€å”®æ³¢åŠ¨
            seasonal_factor = 1 + 0.15 * np.sin(2 * np.pi * i / 12 + np.pi/4)
            random_factor = 1 + np.random.normal(0, 0.1)
            sales = base_sales * seasonal_factor * random_factor
            
            sales_data.append({
                'é¤å…': restaurant['é¤å…'],
                'æœˆä»½': month,
                'é”€é‡': int(sales)
            })
    
    return pd.DataFrame(sales_data)

# è·å–æ•°æ®
price_df = generate_price_trends()
sales_df = generate_monthly_sales()

# ä¾§è¾¹æ ç­›é€‰
st.sidebar.title("ğŸ“Š æ•°æ®ç­›é€‰")
selected_type = st.sidebar.selectbox(
    "é€‰æ‹©é¤å…ç±»å‹",
    ["å…¨éƒ¨", "æ¡‚èœ", "å°åƒè¡—", "ç²¤èœ", "è€å‹ç²‰", "çƒ§çƒ¤", "å¿«é¤", "å°åƒ", "å¤œå¸‚"]
)

# ç­›é€‰æ•°æ®
if selected_type != "å…¨éƒ¨":
    df_filtered = df[df['ç±»å‹'] == selected_type]
    price_df_filtered = price_df[price_df['é¤å…'].isin(df_filtered['é¤å…'])]
    sales_df_filtered = sales_df[sales_df['é¤å…'].isin(df_filtered['é¤å…'])]
else:
    df_filtered = df
    price_df_filtered = price_df
    sales_df_filtered = sales_df

# é¡¶éƒ¨æŒ‡æ ‡å¡ç‰‡
col1, col2, col3, col4 = st.columns(4)

with col1:
    st.metric("ğŸª é¤å…æ€»æ•°", len(df_filtered))

with col2:
    avg_rating = df_filtered['è¯„åˆ†'].mean()
    st.metric("â­ å¹³å‡è¯„åˆ†", f"{avg_rating:.1f}")

with col3:
    avg_price = df_filtered['äººå‡æ¶ˆè´¹(å…ƒ)'].mean()
    st.metric("ğŸ’° å¹³å‡æ¶ˆè´¹", f"Â¥{avg_price:.0f}")

with col4:
    total_sales = sales_df_filtered['é”€é‡'].sum()
    st.metric("ğŸ“ˆ æ€»é”€é‡", f"{total_sales:,}")

# ä¸»è¦å†…å®¹åŒºåŸŸ
st.header("ğŸ“Š æ•°æ®å¯è§†åŒ–åˆ†æ")

# ç¬¬ä¸€è¡Œï¼šæŸ±çŠ¶å›¾å’ŒæŠ˜çº¿å›¾
col1, col2 = st.columns(2)

with col1:
    st.subheader("ğŸ“Š é¤å…è¯„åˆ†å¯¹æ¯”")
    chart_data = df_filtered.set_index('é¤å…')['è¯„åˆ†']
    st.bar_chart(chart_data, color="#FF6B35")

with col2:
    st.subheader("ğŸ“ˆ æœˆåº¦é”€é‡è¶‹åŠ¿")
    line_data = sales_df_filtered.pivot(index='æœˆä»½', columns='é¤å…', values='é”€é‡')
    st.line_chart(line_data)

# ç¬¬äºŒè¡Œï¼šé¢ç§¯å›¾å’Œä»·æ ¼èµ°åŠ¿å›¾
col1, col2 = st.columns(2)

with col1:
    st.subheader("ğŸ“‰ é”€é‡é¢ç§¯å›¾")
    area_data = sales_df_filtered.groupby('æœˆä»½')['é”€é‡'].sum()
    st.area_chart(area_data, color="#667eea")

with col2:
    st.subheader("ğŸ’¹ 12ä¸ªæœˆä»·æ ¼èµ°åŠ¿")
    price_data = price_df.pivot(index='æœˆä»½', columns='é¤å…', values='ä»·æ ¼')
    st.line_chart(price_data)

# åœ°å›¾å±•ç¤º
st.header("ğŸ—ºï¸ é¤å…åœ°ç†ä½ç½®åˆ†å¸ƒ")

# åˆ›å»ºåœ°å›¾æ•°æ®
map_data = df_filtered[['latitude', 'longitude']].rename(columns={
    'latitude': 'lat',
    'longitude': 'lon'
})

# ä½¿ç”¨Streamlitå†…ç½®åœ°å›¾
st.map(map_data, zoom=10, use_container_width=True)

# æ·»åŠ é¤å…ä¿¡æ¯
st.subheader("ğŸ“ é¤å…ä½ç½®ä¿¡æ¯")
for _, row in df_filtered.iterrows():
    st.write(f"**{row['é¤å…']}** - {row['ç±»å‹']} | è¯„åˆ†: {row['è¯„åˆ†']} | äººå‡: Â¥{row['äººå‡æ¶ˆè´¹(å…ƒ)']}")

# è¯¦ç»†æ•°æ®è¡¨æ ¼
st.header("ğŸ“‹ é¤å…è¯¦ç»†ä¿¡æ¯")

# æ ¼å¼åŒ–æ•°æ®å±•ç¤º
display_df = df_filtered.copy().rename(columns={
    'é¤å…': 'é¤å…åç§°',
    'ç±»å‹': 'é¤å…ç±»å‹',
    'è¯„åˆ†': 'è¯„åˆ†',
    'äººå‡æ¶ˆè´¹(å…ƒ)': 'äººå‡æ¶ˆè´¹(å…ƒ)',
    'latitude': 'çº¬åº¦',
    'longitude': 'ç»åº¦'
})

st.dataframe(
    display_df,
    use_container_width=True,
    hide_index=True,
    column_config={
        "è¯„åˆ†": st.column_config.ProgressColumn(
            "è¯„åˆ†",
            help="é¤å…è¯„åˆ†ï¼ˆ0-5åˆ†ï¼‰",
            format="%.1f",
            min_value=0,
            max_value=5
        ),
        "äººå‡æ¶ˆè´¹(å…ƒ)": st.column_config.NumberColumn(
            "äººå‡æ¶ˆè´¹",
            format="Â¥%d å…ƒ"
        ),
        "çº¬åº¦": st.column_config.NumberColumn(
            "çº¬åº¦",
            format="%.6f"
        ),
        "ç»åº¦": st.column_config.NumberColumn(
            "ç»åº¦",
            format="%.6f"
        )
    }
)

# é¡µè„š
st.markdown("---")
st.markdown("""
<div style='text-align: center; color: #718096; margin-top: 1rem;'>
    <p>ğŸœ å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜ | æ•°æ®æ›´æ–°æ—¶é—´ï¼š2025å¹´12æœˆ22æ—¥ 09:28</p>
    <p>æ¢ç´¢å—å®åœ°é“ç¾é£Ÿï¼Œå“å‘³å£®ä¹¡é£æƒ… ğŸŒŸ</p>
</div>
""", unsafe_allow_html=True)

import streamlit as st
st.set_page_config(page_title="è§†é¢‘ä¸­å¿ƒ")


video_arr=[
    {
        'url':'https://www.w3school.com.cn/example/html5/mov_bbb.mp4',
        'title':'ä¸çŸ¥å-ç¬¬ä¸€é›†'
        },
        {
        'url':'https://www.w3schools.com/html/movie.mp4',
        'title':'ä¸çŸ¥å-ç¬¬äºŒé›†'
        },
        {
        'url':'https://media.w3.org/2010/05/sintel/trailer.mp4',
        'title':'ä¸çŸ¥å-ç¬¬ä¸‰é›†'
        }

    ]

if 'ind' not in st.session_state:
    st.session_state['ind']=0

st.title(video_arr[st.session_state['ind']]['title'])
st.video(video_arr[st.session_state['ind']]['url'])


def playVideo(e):
    st.session_state['ind']=int(e)

# åˆ›å»ºä¸è§†é¢‘æ•°é‡ç›¸ç­‰çš„åˆ—ï¼ˆä¾‹å¦‚3ä¸ªè§†é¢‘å°±åˆ›å»º3åˆ—ï¼‰
cols = st.columns(len(video_arr))

# éå†æ¯ä¸€åˆ—ï¼Œå¹¶åœ¨æ¯ä¸€åˆ—ä¸­æ”¾ç½®ä¸€ä¸ªæŒ‰é’®
for i, col in enumerate(cols):
    with col:
        st.button(f'ç¬¬{i+1}é›†',use_container_width=True,on_click=playVideo, args=(i,))

import pandas as pd   # å¯¼å…¥Pandasåº“ï¼Œç”¨äºæ•°æ®å¤„ç†å’Œåˆ›å»ºæ•°æ®æ¡†
import streamlit as st  # å¯¼å…¥Streamlitåº“ï¼Œç”¨äºåˆ›å»ºWebåº”ç”¨


# è®¾ç½®é¡µé¢ä¸»æ ‡é¢˜ - å­¦ç”Ÿæ¡£æ¡ˆ
st.title("ğŸ¥‡å­¦ç”Ÿ å°æ˜2048-æ•°å­—æ¡£æ¡ˆ")

# åŸºç¡€ä¿¡æ¯éƒ¨åˆ†
st.header("ğŸ”‘åŸºç¡€ä¿¡æ¯")
st.text("å­¦ç”ŸID:STU-2024-005")  # æ˜¾ç¤ºå­¦ç”ŸID
st.markdown("æ³¨å†Œæ—¶é—´: :green[2025-12-15]|ç²¾ç¥çŠ¶æ€ï¼šâœ…æ­£å¸¸")  # æ˜¾ç¤ºæ³¨å†Œæ—¶é—´å’Œç²¾ç¥çŠ¶æ€
st.markdown("å½“å‰æ•™å®¤: :green[æ•™å­¦æ¥¼702]|å®‰å…¨ç­‰çº§ï¼šğŸ”’æœºå¯†")  # æ˜¾ç¤ºå½“å‰æ•™å®¤å’Œå®‰å…¨ç­‰çº§

# æŠ€èƒ½çŸ©é˜µéƒ¨åˆ†
st.title("ğŸ“ŠæŠ€èƒ½çŸ©é˜µ")

# æŠ€èƒ½æŒæ¡åº¦å±•ç¤º
st.subheader('æŠ€èƒ½æŒæ¡åº¦')
# ä½¿ç”¨ä¸‰åˆ—å¸ƒå±€å±•ç¤ºä¸åŒç¼–ç¨‹è¯­è¨€çš„æŒæ¡ç¨‹åº¦
c1, c2, c3 = st.columns(3)
c1.metric(label="Cè¯­è¨€",help="æç¤º", value="95%", delta="2â„ƒ")  # Cè¯­è¨€æŠ€èƒ½ï¼Œ95%æŒæ¡åº¦ï¼Œæå‡2â„ƒ
c2.metric(label="Pyhon",help="æç¤º",value="86%", delta="6%")  # PythonæŠ€èƒ½ï¼Œ86%æŒæ¡åº¦ï¼Œæå‡6%
c3.metric(label="Java",help="æç¤º", value="88%", delta="-9%")  # JavaæŠ€èƒ½ï¼Œ88%æŒæ¡åº¦ï¼Œä¸‹é™9%

# å®šä¹‰ä»»åŠ¡æ—¥å¿—æ•°æ®ï¼Œç”¨äºåˆ›å»ºæ•°æ®æ¡†
data = {
 'ä½œä¸šæäº¤æ•°':[15, 18, 22, 20, 25],  # æ¯æœˆä½œä¸šæäº¤æ•°é‡
    'å­¦ä¹ æ—¶é•¿(å°æ—¶)':[120, 145, 160, 155, 180],  # æ¯æœˆå­¦ä¹ æ—¶é•¿
    'ä»£ç è¡Œæ•°':[850, 1200, 1500, 1400, 1800],  # æ¯æœˆç¼–å†™ä»£ç è¡Œæ•°
}
# å®šä¹‰æ•°æ®æ¡†çš„ç´¢å¼•ï¼ˆæœˆä»½ï¼‰
index = pd.Series(['01æœˆ', '02æœˆ', '03æœˆ', '04æœˆ', '05æœˆ'], name='æœˆä»½')
# æ ¹æ®æ•°æ®å’Œç´¢å¼•åˆ›å»ºæ•°æ®æ¡†
df = pd.DataFrame(data, index=index)

# Streamlitè¯¾ç¨‹è¿›åº¦éƒ¨åˆ†
st.title("Streamlitè¯¾ç¨‹è¿›åº¦")
# æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œå½“å‰è¿›åº¦ä¸º15%
st.progress(15)
# æ˜¾ç¤ºè¿›åº¦æ¡ä¸‹æ–¹çš„æ–‡å­—è¯´æ˜
st.text("Streamlitè¯¾ç¨‹è¿›åº¦")

# ä»»åŠ¡æ—¥å¿—è¡¨æ ¼
st.subheader('ä»»åŠ¡æ—¥å¿—')
# ä½¿ç”¨st.tableæ˜¾ç¤ºæ•°æ®æ¡†ï¼Œä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºä»»åŠ¡æ—¥å¿—
st.table(df)

# æœ€æ–°ä»£ç æˆæœéƒ¨åˆ†
st.subheader('ğŸ’»æœ€æ–°ä»£ç æˆæœ')
# åˆ›å»ºè¦æ˜¾ç¤ºçš„Pythonä»£ç å—çš„å†…å®¹
python_code = '''<div style="font-weight: bold; color: #333; margin-bottom: 10px;">SYSTEM MESSAGE</div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <div>
                <div style="font-size: 14px; color: #666;">TARGET:</div>
                <div style="font-size: 16px;">å­¦ç”Ÿæ¡£æ¡ˆç³»ç»Ÿ</div>
            </div>")
'''
# æ˜¾ç¤ºä»£ç å—ï¼ŒåŒ…å«è¡Œå·
st.code(python_code, line_numbers=True)

# åˆ†éš”çº¿
st.markdown('***')

# ç³»ç»ŸçŠ¶æ€éƒ¨åˆ†
st.subheader("ğŸ“¡ ç³»ç»ŸçŠ¶æ€")
# æ˜¾ç¤ºç³»ç»Ÿæ ‡è¯†
st.markdown(':green[>> SYSTEM]')
# åˆ›å»ºä¸€ä¸ªå®¹å™¨æ¥æ˜¾ç¤ºç³»ç»Ÿæ¶ˆæ¯
with st.container():
    # ç³»ç»Ÿæ¶ˆæ¯æ¡†ï¼Œä½¿ç”¨HTMLå’ŒCSSè¿›è¡Œæ ·å¼è®¾è®¡
    st.markdown("""
    <div style="background-color: #f0f2f6; padding: 15px; border-radius: 5px; border: 1px solid #e0e0e0;">
        <div style="font-weight: bold; color: #333; margin-bottom: 10px;">SYSTEM MESSAGE</div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <div>
                <div style="font-size: 14px; color: #666;">TARGET:</div>
                <div style="font-size: 16px;">å­¦ç”Ÿæ¡£æ¡ˆç³»ç»Ÿ</div>
            </div>
            <div>
                <div style="font-size: 14px; color: #666;">COUNTDOWN:</div>
                <div style="font-size: 16px;">2025-06-03 15:24:58</div>
            </div>
            <div>
                <div style="font-size: 14px; color: #666;">ç³»ç»ŸçŠ¶æ€:</div>
                <div style="font-size: 16px;">åœ¨çº¿ è¿æ¥çŠ¶æ€: å·²åŠ å¯†</div>
            </div>
        </div>
        <div style="display: flex; justify-content: space-between;">
            <div>
                <div style="font-size: 14px; color: #666;">æ•°æ®åŒæ­¥:</div>
                <div style="font-size: 16px;">æœ€ååŒæ­¥: 2åˆ†é’Ÿå‰</div>
            </div>
            <div>
                <div style="font-size: 14px; color: #666;">å®‰å…¨ç­‰çº§:</div>
                <div style="font-size: 16px;">é«˜çº§</div>
            </div>
        </div>
    </div>
    """, unsafe_allow_html=True)
